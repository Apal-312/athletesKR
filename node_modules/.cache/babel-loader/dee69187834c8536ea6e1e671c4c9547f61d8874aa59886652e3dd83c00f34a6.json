{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/Desktop/athletesKR/src/components/products/EditAthletes.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { Box, Button, TextField, Typography, CircularProgress } from \"@mui/material\";\nimport { useProduct } from \"../context/ProductContextProvider\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditAthletes = () => {\n  _s();\n  const {\n    id\n  } = useParams(); // Получаем параметр id из URL с помощью хука useParams\n  const {\n    fetchOneProduct,\n    editAthlete,\n    oneAthlete\n  } = useProduct(); // Получаем необходимые функции и состояния из контекста\n\n  // Состояние для хранения данных спортсмена, которые будут изменяться\n  const [product, setProduct] = useState({\n    name: \"\",\n    sport: \"\",\n    country: \"\",\n    image: \"\",\n    rating: 0\n  });\n  const [loading, setLoading] = useState(true); // Состояние для отслеживания загрузки данных\n\n  // Эффект для загрузки данных спортсмена по id при загрузке компонента\n  useEffect(() => {\n    fetchOneProduct(id).finally(() => setLoading(false)); // Добавляем setLoading, чтобы прекратить загрузку после получения данных\n  }, [id]);\n\n  // Эффект для обновления состояния product при получении данных о спортсмене\n  useEffect(() => {\n    if (oneAthlete) {\n      setProduct(oneAthlete);\n    }\n  }, [oneAthlete]);\n\n  // Обработчик изменения данных в полях ввода\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setProduct({\n      ...product,\n      [name]: value\n    });\n  };\n\n  // Обработчик для обновления данных спортсмена\n  const handleUpdateProduct = () => {\n    editAthlete(id, product);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        textAlign: \"center\",\n        marginTop: \"20px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this); // Показываем индикатор загрузки, пока данные не загружены\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      width: \"50%\",\n      margin: \"20px auto\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      gap: 2\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      align: \"center\",\n      children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0441\\u043F\\u043E\\u0440\\u0442\\u0441\\u043C\\u0435\\u043D\\u0430\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      name: \"name\",\n      label: \"\\u0418\\u043C\\u044F\",\n      variant: \"outlined\",\n      value: product.name || \"\" // Используем пустую строку, если значение undefined\n      ,\n      onChange: handleInputChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      name: \"sport\",\n      label: \"\\u0412\\u0438\\u0434 \\u0441\\u043F\\u043E\\u0440\\u0442\\u0430\",\n      variant: \"outlined\",\n      value: product.sport || \"\" // Используем пустую строку, если значение undefined\n      ,\n      onChange: handleInputChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      name: \"country\",\n      label: \"\\u0421\\u0442\\u0440\\u0430\\u043D\\u0430\",\n      variant: \"outlined\",\n      value: product.country || \"\" // Используем пустую строку, если значение undefined\n      ,\n      onChange: handleInputChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      name: \"image\",\n      label: \"URL \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u044F\",\n      variant: \"outlined\",\n      value: product.image || \"\" // Используем пустую строку, если значение undefined\n      ,\n      onChange: handleInputChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      onClick: handleUpdateProduct,\n      children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0441\\u043F\\u043E\\u0440\\u0442\\u0441\\u043C\\u0435\\u043D\\u0430\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n_s(EditAthletes, \"f3WAaJJ/SOPvr4HK7nNPdJPPL3k=\", false, function () {\n  return [useParams, useProduct];\n});\n_c = EditAthletes;\nexport default EditAthletes;\nvar _c;\n$RefreshReg$(_c, \"EditAthletes\");","map":{"version":3,"names":["React","useEffect","useState","useParams","Box","Button","TextField","Typography","CircularProgress","useProduct","jsxDEV","_jsxDEV","EditAthletes","_s","id","fetchOneProduct","editAthlete","oneAthlete","product","setProduct","name","sport","country","image","rating","loading","setLoading","finally","handleInputChange","e","value","target","handleUpdateProduct","sx","textAlign","marginTop","children","fileName","_jsxFileName","lineNumber","columnNumber","width","margin","display","flexDirection","gap","variant","align","label","onChange","onClick","_c","$RefreshReg$"],"sources":["/Users/macbook/Desktop/athletesKR/src/components/products/EditAthletes.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport {\n  Box,\n  Button,\n  TextField,\n  Typography,\n  CircularProgress,\n} from \"@mui/material\";\nimport { useProduct } from \"../context/ProductContextProvider\";\n\nconst EditAthletes = () => {\n  const { id } = useParams(); // Получаем параметр id из URL с помощью хука useParams\n  const { fetchOneProduct, editAthlete, oneAthlete } = useProduct(); // Получаем необходимые функции и состояния из контекста\n\n  // Состояние для хранения данных спортсмена, которые будут изменяться\n  const [product, setProduct] = useState({\n    name: \"\",\n    sport: \"\",\n    country: \"\",\n    image: \"\",\n    rating: 0,\n  });\n\n  const [loading, setLoading] = useState(true); // Состояние для отслеживания загрузки данных\n\n  // Эффект для загрузки данных спортсмена по id при загрузке компонента\n  useEffect(() => {\n    fetchOneProduct(id).finally(() => setLoading(false)); // Добавляем setLoading, чтобы прекратить загрузку после получения данных\n  }, [id]);\n\n  // Эффект для обновления состояния product при получении данных о спортсмене\n  useEffect(() => {\n    if (oneAthlete) {\n      setProduct(oneAthlete);\n    }\n  }, [oneAthlete]);\n\n  // Обработчик изменения данных в полях ввода\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setProduct({\n      ...product,\n      [name]: value,\n    });\n  };\n\n  // Обработчик для обновления данных спортсмена\n  const handleUpdateProduct = () => {\n    editAthlete(id, product);\n  };\n\n  if (loading) {\n    return (\n      <Box sx={{ textAlign: \"center\", marginTop: \"20px\" }}>\n        <CircularProgress />\n      </Box>\n    ); // Показываем индикатор загрузки, пока данные не загружены\n  }\n\n  return (\n    <Box\n      sx={{\n        width: \"50%\",\n        margin: \"20px auto\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        gap: 2,\n      }}\n    >\n      <Typography variant=\"h4\" align=\"center\">\n        Редактировать спортсмена\n      </Typography>\n      <TextField\n        name=\"name\"\n        label=\"Имя\"\n        variant=\"outlined\"\n        value={product.name || \"\"} // Используем пустую строку, если значение undefined\n        onChange={handleInputChange}\n      />\n      <TextField\n        name=\"sport\"\n        label=\"Вид спорта\"\n        variant=\"outlined\"\n        value={product.sport || \"\"} // Используем пустую строку, если значение undefined\n        onChange={handleInputChange}\n      />\n      <TextField\n        name=\"country\"\n        label=\"Страна\"\n        variant=\"outlined\"\n        value={product.country || \"\"} // Используем пустую строку, если значение undefined\n        onChange={handleInputChange}\n      />\n      <TextField\n        name=\"image\"\n        label=\"URL изображения\"\n        variant=\"outlined\"\n        value={product.image || \"\"} // Используем пустую строку, если значение undefined\n        onChange={handleInputChange}\n      />\n\n      <Button variant=\"contained\" onClick={handleUpdateProduct}>\n        Редактировать спортсмена\n      </Button>\n    </Box>\n  );\n};\n\nexport default EditAthletes;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}