{"ast":null,"code":"import React,{useState}from\"react\";import{Card,CardActionArea,CardContent,CardMedia,Button,IconButton,Typography,Stack,styled,Grid// Добавляем Grid для адаптивного размещения\n}from\"@mui/material\";import{useProduct}from\"../context/ProductContextProvider\";import{useNavigate}from\"react-router-dom\";import{StarBorder,Star}from\"@mui/icons-material\";import Detail from\"./Detail\";// Стилизованная кнопка, меняющая цвет при наведении\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AnimatedIconButton=styled(IconButton)({transition:\"color 0.3s ease\",\"&:hover\":{color:\"#ff8c00\"// Цвет и анимация при наведении\n}});const ProductCard=_ref=>{let{product}=_ref;const{deleteAthlete,getOneAthlete}=useProduct();// Извлекаем функции из контекста\nconst navigate=useNavigate();// Хук для навигации\n// Состояние для открытия деталей\nconst[isDetailOpen,setDetailOpen]=useState(false);const[isFavorite,setIsFavorite]=useState(()=>{const savedFavorite=localStorage.getItem(\"favorite_\".concat(product.id));return savedFavorite===\"true\";// Проверка, если продукт сохранен как избранный\n});// Открытие и закрытие деталей\nconst handleDetailOpen=()=>setDetailOpen(true);const handleDetailClose=()=>setDetailOpen(false);// Удаление продукта\nconst handleRemoveProduct=()=>{deleteAthlete(product.id);// Удаляем продукт через функцию из контекста\n};// Редактирование продукта\nconst handleEditProduct=()=>{getOneAthlete(product.id);// Получаем данные о продукте\nnavigate(\"/edit/\".concat(product.id));// Навигация на страницу редактирования\n};// Логика для изменения избранного\nconst handleFavoriteClick=()=>{setIsFavorite(prevFavorite=>{const newFavoriteState=!prevFavorite;// Переключаем состояние избранного\nlocalStorage.setItem(\"favorite_\".concat(product.id),newFavoriteState.toString()// Сохраняем состояние в localStorage\n);return newFavoriteState;});};return/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,md:3,lg:3,children:[\" \",/*#__PURE__*/_jsxs(Card,{sx:{maxWidth:320,// Максимальная ширина карточки\nwidth:\"100%\",// Устанавливаем 100% ширины карточки для адаптивности\nmargin:\"16px\",// Отступы карточки\ndisplay:\"flex\",// Используем flexbox для вертикального размещения\nflexDirection:\"column\",// Элементы располагаются по колонке\nboxShadow:\"0 8px 16px rgba(0, 0, 0, 0.2)\",// Тень вокруг карточки\nborderRadius:\"35px\",// Скругленные углы\ntransition:\"transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out\",// Плавные анимации\n\"&:hover\":{transform:\"scale(1.05)\"// Увеличение карточки при наведении\n}},children:[/*#__PURE__*/_jsxs(CardActionArea,{onClick:handleDetailOpen,children:[\" \",/*#__PURE__*/_jsx(CardMedia,{component:\"img\",height:\"250\",image:product.image||\"https://via.placeholder.com/400\"// Используем изображение продукта или запасное изображение\n,alt:product.name,sx:{objectFit:\"cover\",// Обеспечиваем заполнение изображения\nborderTopLeftRadius:8,// Скругление верхнего левого угла\nborderTopRightRadius:8// Скругление верхнего правого угла\n}}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{gutterBottom:true,variant:\"h5\",component:\"div\",sx:{textAlign:\"center\"}// Выравнивание текста по центру\n,children:product.name}),/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",color:\"text.secondary\",sx:{textAlign:\"center\"}// Выравнивание текста по центру\n,children:[product.sport,\" \",/*#__PURE__*/_jsx(\"br\",{}),product.country,\" \",/*#__PURE__*/_jsx(\"br\",{}),product.details]})]})]}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:1,sx:{mt:2},children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"small\",color:\"primary\",sx:{flexGrow:1,// Растягиваем кнопку по ширине\nmt:\"0px\",\"&:hover\":{backgroundColor:\"#0d47a1\"// Увеличенная тень при наведении\n}},onClick:handleEditProduct// Функция редактирования\n,children:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"small\",color:\"error\",sx:{ml:1,// Отступ слева\nflexGrow:1,// Растягиваем кнопку по ширине\n\"&:hover\":{backgroundColor:\"#9b0000\"// Увеличенная тень при наведении\n}},onClick:handleRemoveProduct// Функция удаления\n,children:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"}),/*#__PURE__*/_jsxs(AnimatedIconButton,{onClick:handleFavoriteClick,sx:{ml:4},children:[isFavorite?/*#__PURE__*/_jsx(Star,{sx:{color:\"#ffb300\"}}):/*#__PURE__*/_jsx(StarBorder,{}),\" \"]})]})}),isDetailOpen&&/*#__PURE__*/_jsx(Detail,{athlete:product// Передаем продукт в компонент Detail\n,open:isDetailOpen// Состояние открытия деталей\n,onClose:handleDetailClose// Закрытие деталей\n})]})]});};export default ProductCard;","map":{"version":3,"names":["React","useState","Card","CardActionArea","CardContent","CardMedia","Button","IconButton","Typography","Stack","styled","Grid","useProduct","useNavigate","StarBorder","Star","Detail","jsx","_jsx","jsxs","_jsxs","AnimatedIconButton","transition","color","ProductCard","_ref","product","deleteAthlete","getOneAthlete","navigate","isDetailOpen","setDetailOpen","isFavorite","setIsFavorite","savedFavorite","localStorage","getItem","concat","id","handleDetailOpen","handleDetailClose","handleRemoveProduct","handleEditProduct","handleFavoriteClick","prevFavorite","newFavoriteState","setItem","toString","item","xs","sm","md","lg","children","sx","maxWidth","width","margin","display","flexDirection","boxShadow","borderRadius","transform","onClick","component","height","image","alt","name","objectFit","borderTopLeftRadius","borderTopRightRadius","gutterBottom","variant","textAlign","sport","country","details","direction","spacing","mt","size","flexGrow","backgroundColor","ml","athlete","open","onClose"],"sources":["/Users/macbook/Desktop/athletesKR2/src/components/products/ProductCard.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport {\n  Card,\n  CardActionArea,\n  CardContent,\n  CardMedia,\n  Button,\n  IconButton,\n  Typography,\n  Stack,\n  styled,\n  Grid, // Добавляем Grid для адаптивного размещения\n} from \"@mui/material\";\nimport { useProduct } from \"../context/ProductContextProvider\";\nimport { useNavigate } from \"react-router-dom\";\nimport { StarBorder, Star } from \"@mui/icons-material\";\nimport Detail from \"./Detail\";\n\n// Стилизованная кнопка, меняющая цвет при наведении\nconst AnimatedIconButton = styled(IconButton)({\n  transition: \"color 0.3s ease\",\n  \"&:hover\": {\n    color: \"#ff8c00\", // Цвет и анимация при наведении\n  },\n});\n\nconst ProductCard = ({ product }) => {\n  const { deleteAthlete, getOneAthlete } = useProduct(); // Извлекаем функции из контекста\n  const navigate = useNavigate(); // Хук для навигации\n\n  // Состояние для открытия деталей\n  const [isDetailOpen, setDetailOpen] = useState(false);\n  const [isFavorite, setIsFavorite] = useState(() => {\n    const savedFavorite = localStorage.getItem(`favorite_${product.id}`);\n    return savedFavorite === \"true\"; // Проверка, если продукт сохранен как избранный\n  });\n\n  // Открытие и закрытие деталей\n  const handleDetailOpen = () => setDetailOpen(true);\n  const handleDetailClose = () => setDetailOpen(false);\n\n  // Удаление продукта\n  const handleRemoveProduct = () => {\n    deleteAthlete(product.id); // Удаляем продукт через функцию из контекста\n  };\n\n  // Редактирование продукта\n  const handleEditProduct = () => {\n    getOneAthlete(product.id); // Получаем данные о продукте\n    navigate(`/edit/${product.id}`); // Навигация на страницу редактирования\n  };\n\n  // Логика для изменения избранного\n  const handleFavoriteClick = () => {\n    setIsFavorite((prevFavorite) => {\n      const newFavoriteState = !prevFavorite; // Переключаем состояние избранного\n      localStorage.setItem(\n        `favorite_${product.id}`,\n        newFavoriteState.toString() // Сохраняем состояние в localStorage\n      );\n      return newFavoriteState;\n    });\n  };\n\n  return (\n    <Grid item xs={12} sm={6} md={3} lg={3}>\n      {\" \"}\n      {/* Добавляем Grid для адаптивности */}\n      <Card\n        sx={{\n          maxWidth: 320, // Максимальная ширина карточки\n          width: \"100%\", // Устанавливаем 100% ширины карточки для адаптивности\n          margin: \"16px\", // Отступы карточки\n          display: \"flex\", // Используем flexbox для вертикального размещения\n          flexDirection: \"column\", // Элементы располагаются по колонке\n          boxShadow: \"0 8px 16px rgba(0, 0, 0, 0.2)\", // Тень вокруг карточки\n          borderRadius: \"35px\", // Скругленные углы\n          transition: \"transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out\", // Плавные анимации\n          \"&:hover\": {\n            transform: \"scale(1.05)\", // Увеличение карточки при наведении\n          },\n        }}\n      >\n        <CardActionArea onClick={handleDetailOpen}>\n          {\" \"}\n          {/* Открытие деталей при клике на карточку */}\n          <CardMedia\n            component=\"img\"\n            height=\"250\"\n            image={product.image || \"https://via.placeholder.com/400\"} // Используем изображение продукта или запасное изображение\n            alt={product.name}\n            sx={{\n              objectFit: \"cover\", // Обеспечиваем заполнение изображения\n              borderTopLeftRadius: 8, // Скругление верхнего левого угла\n              borderTopRightRadius: 8, // Скругление верхнего правого угла\n            }}\n          />\n          <CardContent>\n            <Typography\n              gutterBottom\n              variant=\"h5\"\n              component=\"div\"\n              sx={{ textAlign: \"center\" }} // Выравнивание текста по центру\n            >\n              {product.name}\n            </Typography>\n            <Typography\n              variant=\"h6\"\n              color=\"text.secondary\"\n              sx={{ textAlign: \"center\" }} // Выравнивание текста по центру\n            >\n              {product.sport} <br />\n              {product.country} <br />\n              {product.details}\n            </Typography>\n          </CardContent>\n        </CardActionArea>\n        <CardContent>\n          <Stack direction=\"row\" spacing={1} sx={{ mt: 2 }}>\n            {/* Кнопка редактирования */}\n            <Button\n              variant=\"contained\"\n              size=\"small\"\n              color=\"primary\"\n              sx={{\n                flexGrow: 1, // Растягиваем кнопку по ширине\n                mt: \"0px\",\n                \"&:hover\": {\n                  backgroundColor: \"#0d47a1\", // Увеличенная тень при наведении\n                },\n              }}\n              onClick={handleEditProduct} // Функция редактирования\n            >\n              Редактировать\n            </Button>\n\n            {/* Кнопка удаления */}\n            <Button\n              variant=\"contained\"\n              size=\"small\"\n              color=\"error\"\n              sx={{\n                ml: 1, // Отступ слева\n                flexGrow: 1, // Растягиваем кнопку по ширине\n                \"&:hover\": {\n                  backgroundColor: \"#9b0000\", // Увеличенная тень при наведении\n                },\n              }}\n              onClick={handleRemoveProduct} // Функция удаления\n            >\n              Удалить\n            </Button>\n\n            {/* Кнопка избранного */}\n            <AnimatedIconButton onClick={handleFavoriteClick} sx={{ ml: 4 }}>\n              {isFavorite ? <Star sx={{ color: \"#ffb300\" }} /> : <StarBorder />}{\" \"}\n              {/* Иконка избранного */}\n            </AnimatedIconButton>\n          </Stack>\n        </CardContent>\n\n        {/* Компонент для отображения подробной информации о продукте */}\n        {isDetailOpen && (\n          <Detail\n            athlete={product} // Передаем продукт в компонент Detail\n            open={isDetailOpen} // Состояние открытия деталей\n            onClose={handleDetailClose} // Закрытие деталей\n          />\n        )}\n      </Card>\n    </Grid>\n  );\n};\n\nexport default ProductCard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}