{"ast":null,"code":"import _objectSpread from\"/Users/macbook/Desktop/athletesKR2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import{Box,Button,TextField,Typography,CircularProgress,Card,CardContent,CardActions}from\"@mui/material\";import{useProduct}from\"../context/ProductContextProvider\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EditAthletes=()=>{const{id}=useParams();// Получаем параметр id из URL с помощью хука useParams\nconst{fetchOneProduct,editAthlete,oneAthlete}=useProduct();// Получаем необходимые функции и состояния из контекста\n// Состояние для хранения данных спортсмена, которые будут изменяться\nconst[product,setProduct]=useState({name:\"\",sport:\"\",country:\"\",image:\"\",rating:0});const[loading,setLoading]=useState(true);// Состояние для отслеживания загрузки данных\n// Эффект для загрузки данных спортсмена по id при загрузке компонента\nuseEffect(()=>{fetchOneProduct(id).finally(()=>setLoading(false));// Добавляем setLoading, чтобы прекратить загрузку после получения данных\n},[id]);// Эффект для обновления состояния product при получении данных о спортсмене\nuseEffect(()=>{if(oneAthlete){setProduct(oneAthlete);}},[oneAthlete]);// Обработчик изменения данных в полях ввода\nconst handleInputChange=e=>{const{name,value}=e.target;setProduct(_objectSpread(_objectSpread({},product),{},{[name]:value}));};// Обработчик для обновления данных спортсмена\nconst handleUpdateProduct=()=>{editAthlete(id,product);};if(loading){return/*#__PURE__*/_jsx(Box,{sx:{textAlign:\"center\",marginTop:\"20px\"},children:/*#__PURE__*/_jsx(CircularProgress,{})});// Показываем индикатор загрузки, пока данные не загружены\n}return/*#__PURE__*/_jsx(Box,{sx:{width:\"50%\",margin:\"40px auto\",display:\"flex\",flexDirection:\"column\",gap:3},children:/*#__PURE__*/_jsxs(Card,{sx:{boxShadow:3},children:[/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",align:\"center\",sx:{marginBottom:3},children:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0441\\u043F\\u043E\\u0440\\u0442\\u0441\\u043C\\u0435\\u043D\\u0430\"}),/*#__PURE__*/_jsx(TextField,{name:\"name\",label:\"\\u0418\\u043C\\u044F\",variant:\"outlined\",value:product.name||\"\"// Используем пустую строку, если значение undefined\n,onChange:handleInputChange,fullWidth:true,sx:{marginBottom:2}}),/*#__PURE__*/_jsx(TextField,{name:\"sport\",label:\"\\u0412\\u0438\\u0434 \\u0441\\u043F\\u043E\\u0440\\u0442\\u0430\",variant:\"outlined\",value:product.sport||\"\",onChange:handleInputChange,fullWidth:true,sx:{marginBottom:2}}),/*#__PURE__*/_jsx(TextField,{name:\"country\",label:\"\\u0421\\u0442\\u0440\\u0430\\u043D\\u0430\",variant:\"outlined\",value:product.country||\"\",onChange:handleInputChange,fullWidth:true,sx:{marginBottom:2}}),/*#__PURE__*/_jsx(TextField,{name:\"image\",label:\"URL \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u044F\",variant:\"outlined\",value:product.image||\"\",onChange:handleInputChange,fullWidth:true,sx:{marginBottom:2}})]}),/*#__PURE__*/_jsx(CardActions,{sx:{justifyContent:\"center\",paddingBottom:3},children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleUpdateProduct,children:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0441\\u043F\\u043E\\u0440\\u0442\\u0441\\u043C\\u0435\\u043D\\u0430\"})})]})});};export default EditAthletes;","map":{"version":3,"names":["React","useEffect","useState","useParams","Box","Button","TextField","Typography","CircularProgress","Card","CardContent","CardActions","useProduct","jsx","_jsx","jsxs","_jsxs","EditAthletes","id","fetchOneProduct","editAthlete","oneAthlete","product","setProduct","name","sport","country","image","rating","loading","setLoading","finally","handleInputChange","e","value","target","_objectSpread","handleUpdateProduct","sx","textAlign","marginTop","children","width","margin","display","flexDirection","gap","boxShadow","variant","align","marginBottom","label","onChange","fullWidth","justifyContent","paddingBottom","onClick"],"sources":["/Users/macbook/Desktop/athletesKR2/src/components/products/EditAthletes.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport {\n  Box,\n  Button,\n  TextField,\n  Typography,\n  CircularProgress,\n  Card,\n  CardContent,\n  CardActions,\n} from \"@mui/material\";\nimport { useProduct } from \"../context/ProductContextProvider\";\n\nconst EditAthletes = () => {\n  const { id } = useParams(); // Получаем параметр id из URL с помощью хука useParams\n  const { fetchOneProduct, editAthlete, oneAthlete } = useProduct(); // Получаем необходимые функции и состояния из контекста\n\n  // Состояние для хранения данных спортсмена, которые будут изменяться\n  const [product, setProduct] = useState({\n    name: \"\",\n    sport: \"\",\n    country: \"\",\n    image: \"\",\n    rating: 0,\n  });\n\n  const [loading, setLoading] = useState(true); // Состояние для отслеживания загрузки данных\n\n  // Эффект для загрузки данных спортсмена по id при загрузке компонента\n  useEffect(() => {\n    fetchOneProduct(id).finally(() => setLoading(false)); // Добавляем setLoading, чтобы прекратить загрузку после получения данных\n  }, [id]);\n\n  // Эффект для обновления состояния product при получении данных о спортсмене\n  useEffect(() => {\n    if (oneAthlete) {\n      setProduct(oneAthlete);\n    }\n  }, [oneAthlete]);\n\n  // Обработчик изменения данных в полях ввода\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setProduct({\n      ...product,\n      [name]: value,\n    });\n  };\n\n  // Обработчик для обновления данных спортсмена\n  const handleUpdateProduct = () => {\n    editAthlete(id, product);\n  };\n\n  if (loading) {\n    return (\n      <Box sx={{ textAlign: \"center\", marginTop: \"20px\" }}>\n        <CircularProgress />\n      </Box>\n    ); // Показываем индикатор загрузки, пока данные не загружены\n  }\n\n  return (\n    <Box\n      sx={{\n        width: \"50%\",\n        margin: \"40px auto\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        gap: 3,\n      }}\n    >\n      <Card sx={{ boxShadow: 3 }}>\n        <CardContent>\n          <Typography variant=\"h4\" align=\"center\" sx={{ marginBottom: 3 }}>\n            Редактировать спортсмена\n          </Typography>\n\n          <TextField\n            name=\"name\"\n            label=\"Имя\"\n            variant=\"outlined\"\n            value={product.name || \"\"} // Используем пустую строку, если значение undefined\n            onChange={handleInputChange}\n            fullWidth\n            sx={{ marginBottom: 2 }}\n          />\n          <TextField\n            name=\"sport\"\n            label=\"Вид спорта\"\n            variant=\"outlined\"\n            value={product.sport || \"\"}\n            onChange={handleInputChange}\n            fullWidth\n            sx={{ marginBottom: 2 }}\n          />\n          <TextField\n            name=\"country\"\n            label=\"Страна\"\n            variant=\"outlined\"\n            value={product.country || \"\"}\n            onChange={handleInputChange}\n            fullWidth\n            sx={{ marginBottom: 2 }}\n          />\n          <TextField\n            name=\"image\"\n            label=\"URL изображения\"\n            variant=\"outlined\"\n            value={product.image || \"\"}\n            onChange={handleInputChange}\n            fullWidth\n            sx={{ marginBottom: 2 }}\n          />\n        </CardContent>\n\n        <CardActions sx={{ justifyContent: \"center\", paddingBottom: 3 }}>\n          <Button variant=\"contained\" onClick={handleUpdateProduct}>\n            Редактировать спортсмена\n          </Button>\n        </CardActions>\n      </Card>\n    </Box>\n  );\n};\n\nexport default EditAthletes;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}